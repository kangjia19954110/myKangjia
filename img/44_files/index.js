!function(){function i(i){if(!window.jQuery)throw"\u6b64\u63d2\u4ef6\u4f9d\u8d56\u4e8ejquery, \u8bf7\u52a0\u8f7djQuery\u540e\u518d\u4f7f\u7528!";this.apiUrl="https://p.sug.so.com/recomtip",this.width=i.width||152,this.height=i.height||122,this.type=i.styleType||"worklink",this.dom=i.dom||document.body,this.mid=i.mid,this.reqNum=i.requestNum,this.pageTitle=i.pageTitle,this.pageUrl=i.pageUrl,this.query=i.query,this.dataType=i.dataType,this.pageRefer=i.pageRefer,this.product=i.product,this.closeBtnShow=i.closeBtnShow||!1,this.adBtnShow=i.adBtnShow||!1,this.group=i.group||1,this.delay=i.delay||3,this.renderBeforeCallback=i.renderBeforeCallback||function(){},this.noDataCallback=i.noDataCallback||function(){console.log("no data")},this.showCallback=i.showCallback||function(){},this.version=null,this.sid=null,this.listWordLinkParam={ITEMHEIGHT:41,FIRSTTOP:10},this.wordLinkParam={line:0,row:0,MARGINRIGHT:i.marginRight||28,LASTWIDTH:i.itemWidth||152,PERHEIGHT:30,PERLIHEIGHT:16,COLOR:i.color||"#1024ee"},this.wordLinkParam.PERWIDTH=this.wordLinkParam.MARGINRIGHT+this.wordLinkParam.LASTWIDTH||180,this.imageEntityParam={line:0,row:0,ITEMWIDTH:i.itemWidth||76,ITEMHEIGHT:i.itemHeight||76,MARGINRIGHT:i.marginRight||20},this.imageEntityParam.PERWIDTH=this.imageEntityParam.ITEMWIDTH+this.imageEntityParam.MARGINRIGHT,this.imageEntityParam.PREHEIGHT=this.imageEntityParam.ITEMHEIGHT+40,this.combineParam={row:0,line:0,ITEMWIDTH:i.itemWidth||112,ITEMHEIGHT:i.itemHeight||112,MARGINBOTTOM:i.marginBottom||13,MARGINRIGHT:i.marginRight||13,LASTWIDTH:i.itemWidth||112},this.combineParam.PERWIDTH=this.combineParam.ITEMWIDTH+this.combineParam.MARGINRIGHT||125,this.combineParam.PERHEIGHT=this.combineParam.ITEMHEIGHT+this.combineParam.MARGINBOTTOM||125,this.combineSliderParam={row:0,line:0,ITEMWIDTH:i.itemWidth||112,ITEMHEIGHT:i.itemHeight||112,MARGINRIGHT:i.marginRight||13,NAVWIDTH:26},this.combineSliderParam.PERWIDTH=this.combineSliderParam.ITEMWIDTH+this.combineSliderParam.MARGINRIGHT,this.combineSliderParam.PERHEIGHT=this.combineSliderParam.ITEMHEIGHT,this.sliderParam={THUMBWIDTH:33,THUMBHEIGHT:24,thumbShowCount:parseInt(this.width/38,10)},this.init()}$.extend(i.prototype,{init:function(){if(this.dataType=this.getDataType(this.type),!this.dataType)return void console.log("\u8bf7\u6309\u6587\u6863\u8981\u6c42\u4f20\u5165\u6e32\u67d3\u6837\u5f0f\u7c7b\u578b!");this.reqNumDeal(),this.fetchDataRender()},getDataType:function(i){return this.dataType?this.dataType:{adrecSlider:"image",adrecSingle:"image",wordLink:"word",listWordLink:"word",imageEntity:"image",imageEntityCombine:"image",imageEntityCombineSlider:"image"}[i]},reqNumDeal:function(){switch(this.type){case"wordLink":this.wordLinkParam.row=this.computeRow(this.wordLinkParam.LASTWIDTH,this.wordLinkParam.PERWIDTH),this.wordLinkParam.line=this.computeLine(this.wordLinkParam.PERHEIGHT),this.reqNum=this.reqNum||this.computeReqNum(this.wordLinkParam.row,this.wordLinkParam.line);break;case"imageEntity":this.imageEntityParam.row=this.computeRow(this.imageEntityParam.ITEMWIDTH,this.imageEntityParam.PERWIDTH),this.imageEntityParam.line=this.computeLine(this.imageEntityParam.PREHEIGHT),this.reqNum=this.reqNum||this.computeReqNum(this.imageEntityParam.line,this.imageEntityParam.row);break;case"imageEntityCombine":this.combineParam.row=this.computeRow(this.combineParam.ITEMWIDTH,this.combineParam.PERWIDTH),this.combineParam.line=this.computeLine(this.combineParam.PERHEIGHT),this.reqNum=this.reqNum||this.computeReqNum(this.combineParam.row,this.combineParam.line);break;case"imageEntityCombineSlider":this.combineSliderParam.row=this.computeRow(this.combineSliderParam.ITEMWIDTH+this.combineSliderParam.NAVWIDTH,this.combineSliderParam.PERWIDTH),this.combineSliderParam.line=3,this.reqNum=this.reqNum||this.computeReqNum(this.combineSliderParam.row,this.combineSliderParam.line);break;case"adrecSlider":this.reqNum=this.reqNum||this.sliderParam.thumbShowCount+4;break;case"adrecSingle":this.reqNum=this.reqNum||5;break;case"listWordLink":this.reqNum=this.reqNum||10}},computeRow:function(i,e){return parseInt((this.width-i)/e,10)+1},computeLine:function(i){return parseInt(this.height/i,10)},computeReqNum:function(i,e){return i*e},fetchDataRender:function(){var i=this;$.ajax({url:i.apiUrl,data:{req_num:i.reqNum,data_type:i.dataType,tple_type:i.type,page_url:i.pageUrl,page_title:i.pageTitle,query:i.query,mid:i.mid,page_refer:i.pageRefer,product:i.product,group:i.group},timeout:3e3,dataType:"jsonp",type:"post",jsonp:"cb",success:function(e){0===e.errno&&e.data&&e.data.length?(i.renderBeforeCallback(),i.type=i.type||e.tple_type,i[i.type](e.data),i.version=e.version,i.sid=e.sid,i.doMonitor(),i.showCallback()):i.noDataCallback()},error:function(){i.noDataCallback()}})},imageDataCount:function(i){for(var e=0,t=0;t<i.length;t++)i[t].img&&e++;return e},imageEntityCombineSlider:function(i){function e(){y.removeClass("curr").eq(w).addClass("curr"),x.css({marginTop:0}).animate({marginTop:-w*(a.combineSliderParam.ITEMHEIGHT+l+17)}),2==w?w=0:w++}function t(){clearInterval(f),f=setInterval(e,1e3*a.delay)}var a=this;if(a.imageDataCount(i)<=a.reqNum-a.combineSliderParam.row)return console.log("\u6570\u636e\u4e2a\u6570\u4e0d\u591f\u663e\u793a\u4e09\u6392"),void a.noDataCallback();for(var o=0,r=this.width-this.combineSliderParam.NAVWIDTH-this.combineSliderParam.row*this.combineSliderParam.PERWIDTH+(this.combineSliderParam.PERWIDTH-this.combineSliderParam.ITEMWIDTH),n=(parseInt(r/(this.combineSliderParam.row-1),10)+(this.combineSliderParam.PERWIDTH-this.combineSliderParam.ITEMWIDTH)).toFixed(2),m=this.height-this.combineSliderParam.ITEMHEIGHT,l=parseInt(m/2,10),s='<div class="recomm-nlp-image-combine-slider recomm-nlp-adrec-log" data-type="image-combine-slider"><div class="wraper">',d=0,c=n,h=l;d<this.combineSliderParam.line;d++){l=0===d?0:h,s+='<ul style="padding-top:'+l+'px;">';for(var p=0;p<this.combineSliderParam.row&&i[o];p++)n=p==this.combineSliderParam.row-1?0:c,s+='<li style="margin-right:'+n+'px;"><a href="'+this.getHref(i[o].text,i[o].src)+'" target="_blank" data-type="image-combine-slider-click"><div class="btn-wrap"><h4>'+i[o].text+'</h4><span class="goto-see">\u53bb\u770b\u770b</span></div><img src="'+this.protocolDeal("http://p5.qhimg.com/d/inn/547b5761/alpha.png")+'" style="background-image:url('+this.imgFactory(i[o].img,this.combineSliderParam.ITEMWIDTH-4,this.combineSliderParam.ITEMHEIGHT-4)+')"></a></li>',o++;s+="</ul>"}s+='</div><div class="nav"><a href="javascript:void(0)" class="curr" data-index="0"></a><a href="javascript:void(0)" data-index="1"></a><a href="javascript:void(0)" data-index="2"></a></div></div>';var g=$(this.dom),b=".recomm-nlp-image-combine-slider ul,li,h4{margin:0;padding:0;list-style:none;}.recomm-nlp-image-combine-slider img{border:none;}.recomm-nlp-image-combine-slider a{text-decoration:none;position:relative;display: inline-block;*display:inline;zoom:1;border:1px solid #d8d8d8;width:"+(this.combineSliderParam.ITEMWIDTH-2)+"px;height:"+(this.combineSliderParam.ITEMHEIGHT-2)+'px;overflow:hidden;}.recomm-nlp-image-combine-slider{position:relative;overflow:hidden;font-family:"Microsoft YaHei";height:'+this.combineSliderParam.ITEMHEIGHT+"px;overflow:hidden;}.recomm-nlp-image-combine-slider .nav{width: 20px;height: "+(this.combineSliderParam.ITEMHEIGHT-2)+"px;*height: "+(this.combineSliderParam.ITEMHEIGHT-24)+"px;background: #d8d8d8;position: absolute;right: 0;top: 0;padding-top: "+(this.combineSliderParam.ITEMHEIGHT-44)/2+"px;margin-top:1px;}.recomm-nlp-image-combine-slider .nav a{display: block;width: 6px;height: 7px;background: #fff;border-radius: 100%;margin-bottom: 10px;margin-left: 7px;}.recomm-nlp-image-combine-slider .nav .curr{background:#9b9b9b;}.recomm-nlp-image-combine-slider ul{margin-bottom: 13px;overflow:hidden}.recomm-nlp-image-combine-slider ul li{display: inline-block;*display:inline;zoom:1;position: relative;overflow: hidden;width:"+this.combineParam.ITEMWIDTH+"px;height:"+this.combineParam.ITEMHEIGHT+"px;border:1px solid #fff;margin-right:13px;}.recomm-nlp-image-combine-slider ul li:hover, .recomm-nlp-image-combine-slider ul li:hover a{border:1px solid #19b955;}.recomm-nlp-image-combine-slider ul li:hover .btn-wrap{transform: translateY(-25px);background: url("+this.protocolDeal("http://p0.qhimg.com/t01086c8aa70839c767.gif")+") center -35px rgba(255,255,255,.8);}.recomm-nlp-image-combine-slider ul img{display:inline-block;zoom:1;*display:inline;height:"+(this.combineSliderParam.ITEMHEIGHT-2)+"px;width:"+(this.combineSliderParam.ITEMWIDTH-2)+'px;color:#666;font-family:"Microsoft YaHei";}.recomm-nlp-image-combine-slider ul li h4{font-size:13px;overflow:hidden;width:'+(this.combineSliderParam.ITEMWIDTH-4)+"px;text-overflow:ellipsis;white-space:nowrap;text-align:center;height:28px;line-height:28px;color:#333;padding:0 4px;transition: .5s;}.recomm-nlp-image-combine-slider .btn-wrap{position:absolute;bottom:-25px;background:#fff;background: rgba(255,255,255,.8);transition:.5s;}.recomm-nlp-image-combine-slider .goto-see{display:inline-block;zoom:1;*display:inline;font-size:13px;color:#19b955;margin-left:"+(this.combineSliderParam.ITEMWIDTH-62)/2+"px;margin-bottom: 3px;border:1px solid #19b955;background:#fff;width:60px;height:20px;line-height:20px;text-align:center}";g.append(s),!$("#recomm-nlp-image-combine-slider-abcdefg").length&&this.addCss(b,"recomm-nlp-image-combine-slider-abcdefg");var f,u=g.find(".recomm-nlp-image-combine-slider"),w=1,x=$(".wraper",u),y=$(".nav a",u);u.css({width:this.width}),t(),x.on("mouseenter",function(){clearInterval(f)}).on("mouseleave",function(){t()}),y.on("click",function(){clearInterval(f),w=$(this).data("index"),e()})},imageEntity:function(i){if(this.imageDataCount(i)<=0)return console.log("imageEntity has no img data!"),void self.noDataCallback();for(var e=0,t=this.width-this.imageEntityParam.row*this.imageEntityParam.PERWIDTH+(this.imageEntityParam.PERWIDTH-this.imageEntityParam.ITEMWIDTH),a=(parseInt(t/(this.imageEntityParam.row-1),10)+(this.imageEntityParam.PERWIDTH-this.imageEntityParam.ITEMWIDTH)).toFixed(2),o=this.height-this.imageEntityParam.line*this.imageEntityParam.PREHEIGHT,r=parseInt(o/(this.imageEntityParam.line+1),10),n='<div class="recomm-nlp-image-entity recomm-nlp-adrec-log" data-type="image-entity">',m=0,l=a;m<this.imageEntityParam.line;m++){n+='<ul style="padding-top:'+r+'px;">';for(var s=0;s<this.imageEntityParam.row&&(i[e]&&i[e].img);s++)a=s==this.imageEntityParam.row-1?0:l,n+='<li style="margin-right:'+a+'px;" data-index="'+e+'"><div class="img-wrap"><a class="img-link" href="'+this.getHref(i[e].text,i[e].src)+'" target="_blank" data-type="image-entity-click"><img class="img" src="'+this.imgFactory(i[e].img,2*this.imageEntityParam.ITEMWIDTH,2*this.imageEntityParam.ITEMHEIGHT)+'"><span class="mask"></span></a></div><p class="txt"><a href="'+this.getHref(i[e].text,i[e].src)+'" target="_blank" data-type="image-entity-click">'+this.trimWidth(i[e].text,this.imageEntityParam.ITEMWIDTH)+"</a></p></li>",e++;n+="</ul>"}n+="</div>",$(this.dom).append(n);var d='.recomm-nlp-image-entity{font-family:"Microsoft YaHei"}.recomm-nlp-image-entity, .recomm-nlp-image-entity ul{overflow:hidden;}.recomm-nlp-image-entity img{border:none;}.recomm-nlp-image-entity ul, .recomm-nlp-image-entity li,.recomm-nlp-image-entity div, .recomm-nlp-image-entity p{margin:0;padding:0;list-style:none;}.recomm-nlp-image-entity li{float:left;width:'+this.imageEntityParam.ITEMWIDTH+"px;margin-right:20px;}.recomm-nlp-image-entity li.hover .img-wrap{border:2px solid #19b955;}.recomm-nlp-image-entity li:hover img{transform:scale(.6);-ms-transform:scale(.6);-moz-transform:scale(.6);-webkit-transform:scale(.6);-o-transform:scale(.6);}.recomm-nlp-image-entity ul li:last-child{margin-right:0;}.recomm-nlp-image-entity a{text-decoration:none;font-size: 13px;color: #1024ee;word-wrap: break-word;word-break: break-all;}.recomm-nlp-image-entity .img-wrap{display:inline-block;zoom:1;*display:inline;width:"+this.imageEntityParam.ITEMWIDTH+"px;height:"+this.imageEntityParam.ITEMHEIGHT+"px;;position:relative;overflow:hidden;background-color:#fff;border: 2px solid #fff;}.recomm-nlp-image-entity .img{margin:0 auto;vertical-align:middle;transform:scale(.5);-ms-transform:scale(.5);-moz-transform:scale(.5);-webkit-transform:scale(.5);-o-transform:scale(.5);transition:.5s;-moz-transition:.5s;-webkit-transition:.5s;-o-transition:.5s;margin-top:-"+this.imageEntityParam.ITEMHEIGHT/2+"px;margin-left:-"+this.imageEntityParam.ITEMWIDTH/2+"px;}.recomm-nlp-image-entity .mask{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;filter:alpha(opacity=2);background:-webkit-radial-gradient(center,closest-side,rgba(255,255,255,0),rgba(0,0,0,.02));background:-moz-radial-gradient(center,closest-side,rgba(255,255,255,0),rgba(0,0,0,.02));background:-ms-radial-gradient(center,closest-side,rgba(255,255,255,0),rgba(0,0,0,.02));background:-o-radial-gradient(center,closest-side,rgba(255,255,255,0),rgba(0,0,0,.02));background:radial-gradient(center,closest-side,rgba(255,255,255,0),rgba(0,0,0,.02))}.recomm-nlp-image-entity .txt{line-height:17px;text-align:center;cursor:default;word-wrap:break-word;word-break:normal;margin-bottom:0;}";!$("#recomm-nlp-image-entity-abcdefg").length&&this.addCss(d,"recomm-nlp-image-entity-abcdefg");var c=$(this.dom).find(".recomm-nlp-image-entity");c.css({width:this.width,height:this.height}),this.marquee.call(this,c)},imageEntityCombine:function(i){if(this.imageDataCount(i)<=0)return console.log("imageEntityCombine has no image data"),void this.noDataCallback();for(var e=0,t=this.width-this.combineParam.row*this.combineParam.PERWIDTH+(this.combineParam.PERWIDTH-this.combineParam.LASTWIDTH),a=(parseInt(t/(this.combineParam.row-1),10)+(this.combineParam.PERWIDTH-this.combineParam.LASTWIDTH)).toFixed(2),o=this.height-this.combineParam.line*this.combineParam.PERHEIGHT,r=parseInt(o/(this.combineParam.line+1),10).toFixed(2),n='<div class="recomm-nlp-image-combine recomm-nlp-adrec-log" data-type="image-combine">',m=this.combineParam.ITEMWIDTH-2,l=this.combineParam.ITEMHEIGHT-2,s=0,d=a;s<this.combineParam.line;s++){n+='<ul style="padding-top:'+r+"px;",s==this.combineParam.line-1?n+='margin-bottom:0;">':n+='">';for(var c=0;c<this.combineParam.row&&(i[e]&&i[e].img);c++)a=c==this.combineParam.row-1?0:d,n+='<li style="margin-right:'+a+'px;" data-index="'+e+'"><a href="'+this.getHref(i[e].text,i[e].src)+'" target="_blank" data-type="image-combine-click"><div class="btn-wrap"><h4>'+i[e].text+'</h4><span class="goto-see">\u53bb\u770b\u770b</span></div><img src="'+this.protocolDeal("http://p5.qhimg.com/d/inn/547b5761/alpha.png")+'" style="background-image:url('+this.imgFactory(i[e].img,m,l)+')"></a></li>',e++;n+="</ul>"}n+="</ul></div>",$(this.dom).append(n);var h=".recomm-nlp-image-combine ul,li,h4{margin:0;padding:0;list-style:none;}.recomm-nlp-image-combine img{border:none;}.recomm-nlp-image-combine a{text-decoration:none;display:inline-block;border: 1px solid #d8d8d8;width: "+m+"px;height: "+l+'px;position: relative;overflow: hidden;}.recomm-nlp-image-combine{overflow:hidden;font-family:"Microsoft YaHei"}.recomm-nlp-image-combine ul{margin-bottom: 13px;'+this.combineParam.ITEMWIDTH+"px;height:"+(this.combineParam.ITEMHEIGHT+4)+"px;overflow:hidden;}.recomm-nlp-image-combine ul li{display: inline-block;*display:inline;zoom:1;position: relative;overflow: hidden;width:"+this.combineParam.ITEMWIDTH+"px;*width:"+(this.combineParam.ITEMWIDTH-10)+"px;height:"+this.combineParam.ITEMHEIGHT+"px;border:1px solid #fff;margin-right:13px;}.recomm-nlp-image-combine ul .hover, .recomm-nlp-image-combine  ul .hover a{border:1px solid #19b955;}.recomm-nlp-image-combine ul li:hover .btn-wrap{transform: translateY(-25px);cursor:pointer;background: url("+this.protocolDeal("http://p0.qhimg.com/t01086c8aa70839c767.gif")+") center -35px rgba(255,255,255,.8)}.recomm-nlp-image-combine ul img{display:inline-block;zoom:1;*display:inline;height:"+l+"px;width:"+m+'px;color:#666;font-family:"Microsoft YaHei";}.recomm-nlp-image-combine ul li h4{font-size:13px;overflow:hidden;width:'+(this.combineParam.ITEMWIDTH-4)+"px;text-overflow:ellipsis;white-space:nowrap;text-align:center;height:28px;line-height:28px;color:#333;padding:0 4px;transition: .5s;}.recomm-nlp-image-combine .btn-wrap{position:absolute;bottom:-25px;background:#fff;background: rgba(255,255,255,.8);transition:.5s;}.recomm-nlp-image-combine .goto-see{display:inline-block;zoom:1;*display:inline;font-size:13px;color:#19b955;margin-left:"+(this.combineParam.ITEMWIDTH-62)/2+"px;margin-bottom: 3px;border:1px solid #19b955;background:#fff;width:60px;height:20px;line-height:20px;text-align:center}";!$("#recomm-nlp-image-combine-abcdefg").length&&this.addCss(h,"recomm-nlp-image-combine-abcdefg");var p=$(this.dom).find(".recomm-nlp-image-combine");p.css({width:this.width,height:this.height}),this.marquee.call(this,p)},listWordLink:function(i){this.product=this.product||"image";for(var e='<div class="recomm-nlp-list-word-link recomm-nlp-adrec-log" data-type="list-word-link"><ul class="sc_list_link">',t=0;t<i.length;t++)e+='<li><a href="'+this.getHref(i[t].text,i[t].src)+'" target="_blank" data-type="list-word-link-click">'+i[t].text+"</a></li>";e+="</ul></div>";$(this.dom).append(e),!$("#recomm-nlp-list-word-link-abcdefg").length&&this.addCss('.recomm-nlp-list-word-link{overflow:hidden;font-family:"microsoft yahei",arial;}.recomm-nlp-list-word-link ul,li{list-style:none;margin:0;padding:0}.recomm-nlp-list-word-link ul{margin-left: -10px;margin-top:-10px;}.recomm-nlp-list-word-link ul li{display: inline-block;*display:inline;display:inline-block\\0;zoom: 1;padding-top: 10px;vertical-align: top;margin-left:10px;} .recomm-nlp-list-word-link a{text-decoration: none;color: #333;background-color: #f2f2f2;font-size: 13px;line-height: 1;padding: 8px 10px;display: inline-block;zoom:1;*display:inline;padding-top: 10px;vertical-align: top;}.recomm-nlp-list-word-link a:hover{color: #0124ee;}',"recomm-nlp-list-word-link-abcdefg");var a=parseInt((this.height+this.listWordLinkParam.FIRSTTOP)/this.listWordLinkParam.ITEMHEIGHT,10)*this.listWordLinkParam.ITEMHEIGHT;$(this.dom).find(".recomm-nlp-list-word-link").css({width:this.width,height:a})},wordLink:function(i){var e='.recomm-nlp-word-link{position:relative;font-family:"Microsoft YaHei"}';this.adBtnShow&&(e+='.recomm-nlp-word-link:after{content:"\u5e7f\u544a";position:absolute;font-size: 13px;color: #666;bottom: 3px;right: 3px;}'),e+=".recomm-nlp-word-link ul,.recomm-nlp-word-link li{margin:0;padding:0;list-style: none;}.recomm-nlp-word-link a{text-decoration:none;color:"+this.wordLinkParam.COLOR+';font-size:14px;margin-left: 8px;}.recomm-nlp-word-link a:hover{text-decoration: underline;}.recomm-nlp-word-link a:before{content:"";position:absolute;width:2px;height:2px;background: #1024ee;top:9px;left:0;}.recomm-nlp-word-link li{position:relative;display:inline-block;*display:inline;zoom:1;height:16px;line-height:16px;margin:5px 0 5px 0;margin-right:'+this.wordLinkParam.MARGINRIGHT+"px;min-width:"+this.wordLinkParam.LASTWIDTH+"px;width:"+this.wordLinkParam.LASTWIDTH+"px;overflow:hidden;text-overflow: ellipsis;white-space: nowrap;}";var t='<div class="recomm-nlp-word-link recomm-nlp-adrec-log" data-type="word-link">',a=0,o=this.width-this.wordLinkParam.row*this.wordLinkParam.PERWIDTH+(this.wordLinkParam.PERWIDTH-this.wordLinkParam.LASTWIDTH),r=(o/this.wordLinkParam.row+this.wordLinkParam.LASTWIDTH).toFixed(2),n=this.height-this.wordLinkParam.line*this.wordLinkParam.PERHEIGHT;this.adBtnShow&&(n>10?n-=10:n=0);for(var m=(n/this.wordLinkParam.line+this.wordLinkParam.PERLIHEIGHT).toFixed(2),l=0;l<this.wordLinkParam.line;l++){t+="<ul>";for(var s=0;s<this.wordLinkParam.row&&i[a];s++)t+='<li style="width:'+r+"px;height:"+m+"px;line-height:"+m+"px;",s==this.wordLinkParam.row-1&&(t+="margin-right:0;"),t+='"><a href="'+this.getHref(i[a].text,i[a].src)+'" target="_blank" data-type="word-link-click">'+i[a].text+"</a></li>",a++;t+="</ul>"}t+="</div>",$(this.dom).append(t),!$("#recomm-nlp-word-link-abcdefg").length&&this.addCss(e,"recomm-nlp-word-link-abcdefg"),$(this.dom).find(".recomm-nlp-word-link").css({width:this.width,height:this.height})},adrecSingle:function(i){for(var e,t=parseInt(this.width,10),a=parseInt(this.height,10),o=0;o<i.length;o++)if(i[o].img){e=i[o];break}if(!e)return console.log("adrecSingle has no img data;"),void this.noDataCallback();var r='.recomm-nlp-adrec-single{font-family:"Microsoft YaHei"}.recomm-nlp-adrec-single a{text-decoration:none;}.recomm-nlp-adrec-single img{border:none;}.recomm-nlp-adrec-single .ad,.recomm-nlp-adrec-single .close{background:url('+this.protocolDeal("http://p6.qhimg.com/d/inn/d0364632/adrecbg.png")+")}.recomm-nlp-adrec-single{position:relative;overflow:hidden;background:#fff;border:1px solid #ccc;box-sizing:border-box}.recomm-nlp-adrec-single .loading{position:absolute;top:50%;left:50%;margin:-16px 0 0 -16px}.recomm-nlp-adrec-single .img img{width:100%;height:100%;background:#ccc}.recomm-nlp-adrec-single .img{width:100%;height:100%;overflow:hidden;display:block;position:absolute}.recomm-nlp-adrec-single .mask-txt{position:absolute;left:5px;bottom:0;z-index:1;color:#fff;font-size:22px;overflow:hidden;height:35px;text-overflow:ellipsis;line-height:35px;white-space:nowrap;width:280px}.recomm-nlp-adrec-single .mask{position:absolute;left:0;bottom:0;background-position:0 0;width:100%;height:35px;background: #000;filter: alpha(opacity=40);background: -webkit-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));background: -moz-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01)));background: -ms-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));background: -o-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));background: linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));}.recomm-nlp-adrec-single .img a{position:absolute;left:0;top:0;z-index:0}.recomm-nlp-adrec-single .ad{position:absolute;top:-1px;right:0;display:block;font-size:13px;height:21px;line-height:21px;width:33px;text-align:center;color:#fff;overflow:hidden;cursor:pointer;text-decoration:none;font-weight:100;background-position:-2px -177px;padding-left:2px}.recomm-nlp-adrec-single .close{display:inline-block;zoom:1;*display:inline;position:absolute;width:20px;height:20px;z-index:1;top:0;right:0;background-position:-1px -88px}.recomm-nlp-adrec-single .close:active,.recomm-nlp-adrec-single .close:hover{background-position:0 -130px}",n='<div class="recomm-nlp-adrec-single recomm-nlp-adrec-log" data-type="adrec-single"><div class="img">',m=this.getHref(e.text,e.src);n+='<a href="'+m+'" target="_blank" data-type="adrec-single-click"><img src="'+this.imgFactory(e.img,t,a)+'"></a>',n+='</div><a target="_blank" href="'+m+'" class="mask-txt" data-type="adrec-single-click">'+e.text+'</a><div class="mask"></div>',this.adBtnShow&&(n+='<span class="ad"',this.closeBtnShow&&(n+=' style="right:19px;"'),n+=">\u5e7f\u544a</span>"),this.closeBtnShow&&(n+='<a href="javascript:void(0)" class="close" data-type="adrec-single-close"></a>'),n+="</div>";var l=$(this.dom);l.append(n),!$("#recomm-nlp-adrec-single-abcdefg").length&&this.addCss(r,"recomm-nlp-adrec-single-abcdefg");var s=l.find(".recomm-nlp-adrec-single");s.css({width:this.width,height:this.height}),l.on("click",".close",function(){s.remove()})},adrecSlider:function(i){var e=this;if(e.imageDataCount(i)<=0)return console.log("adrecSlider has no img data!"),void e.noDataCallback();$.getScript(this.protocolDeal("https://s2.ssl.qhres.com/!843ac749/thumbSlider.js"),function(){var t=parseInt(e.width-4,10),a=parseInt(e.height-32,10),o='<div class="recomm-nlp-adrec-slider recomm-nlp-adrec-log" data-type="adrec-slider"><div class="slider-wraper"><div class="img">',r=i,n=r.length,m=$(e.dom),l='.recomm-nlp-adrec-slider a {text-decoration: none}.recomm-nlp-adrec-slider a img{border: none;} *{box-sizing: border-box;}.recomm-nlp-adrec-slider{box-sizing: border-box;position: relative;overflow:hidden;background: #fff;border: 1px solid #ccc;padding: 2px;box-sizing: border-box;font-family: "Microsoft YaHei";}.recomm-nlp-adrec-slider .slider-wraper{box-sizing: border-box;position:relative;overflow:hidden;border:none;}.recomm-nlp-adrec-slider .loading{position:absolute;top:50%;left:50%;margin:-16px 0 0 -16px}.recomm-nlp-adrec-slider .img img{width: 100%;height: 100%;background: #ccc;}.recomm-nlp-adrec-slider .img{width: 100%;height: 100%;overflow:hidden;display:block;position: absolute;}.recomm-nlp-adrec-slider .mask-txt{position: absolute;left: 3px;bottom: 31px;z-index: 1;color: #fff;font-size: 20px;overflow: hidden;height: 35px;line-height:35px;text-overflow: ellipsis;white-space: nowrap;width: 100%;font-weight: bold;}.recomm-nlp-adrec-slider .close{background: url('+e.protocolDeal("http://p6.qhimg.com/d/inn/c6c08d7c/bg.png")+")}.recomm-nlp-adrec-slider .mask{position: absolute;left: 0;bottom: 31px;width: 100%;height: 35px;background: #000;filter: alpha(opacity=40);background: -webkit-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));background: -moz-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01)));background: -ms-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));background: -o-linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));background: linear-gradient(left,rgba(0,0,0,1),rgba(0,0,0,.01));}.recomm-nlp-adrec-slider .thumb{font-size:0;position:absolute;bottom:4px;width: 100%;height: 26px;overflow: hidden;}.recomm-nlp-adrec-slider .thumb-wrap{position:relative;overflow:hidden;width: 425px;height:26px;} .recomm-nlp-adrec-slider .thumb-content{position:absolute;height:26px;white-space:nowrap}.recomm-nlp-adrec-slider .thumb img{display:inline-block;zoom:1;*display:inline;opacity:0.7;-webkit-transition:all 0.4s;-moz-transition:all 0.4s;-ms-transition:all 0.4s;transition:all 0.4s}.recomm-nlp-adrec-slider .thumb img:hover{opacity:.9;filter:alpha(opacity=90)}.recomm-nlp-adrec-slider .thumb a{overflow:hidden;display:inline-block;zoom:1;*display:inline;margin-right:5px;border:1px solid #ccc;background:#000;-webkit-transition:all 0.4s;-moz-transition:all 0.4s;-ms-transition:all 0.4s;transition:all 0.4s}.recomm-nlp-adrec-slider .thumb a.hover{border:1px solid #FF7700;}.recomm-nlp-adrec-slider .thumb a.hover img{opacity:1;filter:alpha(opacity=100)}.recomm-nlp-adrec-slider .img a{position:absolute;left:0;top:0;z-index:0}.recomm-nlp-adrec-slider .ad{position: absolute;bottom: 0;right: 0;display: block;font-size: 12px;height: 16px;line-height: 16px;width: 26px;margin-bottom: 2px;text-align: center;color: #666;display: block;overflow: hidden;background: #fff;opacity: .8;padding-left:2px;cursor: pointer;text-decoration: none;font-weight: 100;}.recomm-nlp-adrec-slider .close {display: inline-block;zoom:1;*display:inline;position: absolute;width: 20px;height: 20px;z-index: 1;top:0px;right: 0;background-position: -1px -78px;}";!$("#recomm-nlp-adrec-slider-abcdefg").length&&e.addCss(l,"recomm-nlp-adrec-slider-abcdefg");for(var s=0;s<n;s++)r[s].img&&(o+='<a href="'+e.getHref(r[s].text,r[s].src)+'" target="_blank" data-type="adrec-slider-click" data-title="'+r[s].text+'"><img src="'+e.imgFactory(r[s].img,t,a)+'"></a>');o+='</div><a target="_blank" class="mask-txt" data-type="adrec-slider-click"></a><div class="mask"></div><div class="thumb"><div class="thumb-wrap"><div class="thumb-content">';for(var d=0;d<n;d++)r[d].img&&(o+='<a target="_blank" ',0===d&&(o+='class="hover"'),o+=' href="'+e.getHref(r[d].text,r[d].src)+'"data-type="adrec-slider-click">',o+='<span><img src="'+e.imgFactory(r[d].img,e.sliderParam.THUMBWIDTH,e.sliderParam.THUMBHEIGHT)+'"></span></a>');o+='</div></div></div><span class="ad">\u5e7f\u544a</span>',e.closeBtnShow&&(o+='<a href="javascript:void(0)" class="close" data-type="adrec-slider-close"></a>'),o+="</div></div>",m.append(o);var c=m.find(".recomm-nlp-adrec-slider"),h=$(".slider-wraper",c);c.css({width:e.width,height:e.height}),h.css({width:e.width-6,height:e.height-2}),m.on("click",".close",function(){c.remove()}),c.thumbSlider({screen:c,left:".left",right:".right",thumb:".thumb a",thumbContent:".thumb-content",thumbSelectedClass:"hover",title:".mask-txt",img:".img a",wrapperWidth:e.width-6,thumbShowCount:e.sliderParam.thumbShowCount,time:1e3*e.delay})})},marquee:function(i){function e(){i.find(".hover").removeClass("hover"),o.eq(n).addClass("hover"),++n==r&&(n=0)}function t(){m=setInterval(function(){e()},1e3*a.delay)}var a=this,o=$("li",i),r=o.length,n=0;if(!(r<2)){var m;e(),t(),o.on("mouseenter",function(){clearInterval(m),n=$(this).data("index"),e()}).on("mouseleave",function(){t()})}},imgFactory:function(i,e,t){return this.protocolDeal("http://p0.qhimg.com/dmsmty/"+e+"_"+t+"_/"+i)},getHref:function(i,e){var t=e||"";return this.product&&(t=e+"-"+this.product+"-"+this.dataType),this.protocolDeal("http://www.so.com/s?q="+encodeURIComponent(i)+"&src="+t)},addCss:function(i,e){var t=document.createElement("style");t.type="text/css",t.id=e||"",t.styleSheet?t.styleSheet.cssText=i:t.innerHTML=i,document.getElementsByTagName("HEAD")[0].appendChild(t)},trimWidth:function(i,e){for(var t=4*parseInt(e/14,10),a=0,o=i.length,r=0;r<t&&a<o;)r+=i.charCodeAt(a++)>127?2:1.4;return r<t||r===t&&a===o?i:i.substr(0,a-1)+"..."},doMonitor:function(){if($(this.dom).length){var i=this;window.monitor&&$.isFunction(monitor.log)?i.recommMonitor():$.getScript(i.protocolDeal("https://s5.ssl.qhres.com/!45eea705/4f1853e5.js"),function(){i.recommMonitor()})}},recommMonitor:function(){var i=this;i.log({type:$(i.dom).find(".recomm-nlp-adrec-log").data("type"),version:i.version,sid:i.sid}),$(i.dom).off("click"),$(i.dom).on("click",".recomm-nlp-adrec-log a[data-type]",function(){i.log({type:$(this).data("type"),version:i.version,sid:i.sid})})},log:function(i){var e=$.extend({pro:"recomm-lib",pid:"adrec-style",mod:"nlp-adrec",domain:document.domain},i);monitor.setConf("recom-nlpUrl",this.protocolDeal("https://s.qhupdate.com/so/recom-nlp.gif")).log(e,"recom-nlp")},protocolDeal:function(i){return"https:"==document.location.protocol?i.replace(/http:\/\/p\d+\.(qhimg|qhmsg)\.com\//g,"https://p.ssl.qhimg.com/").replace(/http:\/\/i\d+\.(qhimg|qhmsg)\.com\//g,"https://i.ssl.qhimg.com/").replace(/http:\/\/u\.(qhimg|qhmsg)\.com\//g,"https://u.ssl.qhimg.com/").replace(/http:\/\/u1\.(qhimg|qhmsg)\.com\//g,"https://u1.ssl.qhimg.com/").replace(/http:\/\/p\d+\.so\.(qhimg|qhmsg)\.com\//g,"https://ps.ssl.qhimg.com/").replace(/http:\/\/s\d+\.(qhimg|qhmsg|qhres|qhres2)\.com\//g,"https://s.ssl.qhres.com/").replace(/http:\/\/quc\.(qhimg|qhmsg)\.com\//g,"https://quc.ssl.qhimg.com/").replace(/http:\/\/p([0-9])\.qhimgs4.com\//g,"https://p$1.ssl.qhimgs4.com/").replace(/http:\/\/www.so.com\//g,"https://www.so.com/"):i},remove:function(){$(this.dom).find(".recomm-nlp-adrec-log").remove()}}),window.AdrecStyleLib=i}();